

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Mapa de los resultados por departamento &mdash; documentación de Curso Elecciones Legislativas 2017 en Córdoba - </title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Índice"
              href="../../genindex.html"/>
        <link rel="search" title="Búsqueda" href="../../search.html"/>
    <link rel="top" title="documentación de Curso Elecciones Legislativas 2017 en Córdoba - " href="../../index.html"/>
        <link rel="up" title="Analizando resultados electorales" href="index.html"/>
        <link rel="next" title="Recursos y ejemplos" href="recursos-externos-y-ejemplos.html"/>
        <link rel="prev" title="Geolocalizar Circuitos fuera de la capital." href="geolocalizar-circuitos.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Curso Elecciones Legislativas 2017 en Córdoba
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Contenidos:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../antes-de-la-eleccion/index.html">Antes de la elección</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Analizando resultados electorales</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="como-publica-datos-el-ministerio-interior.html">Datos el Ministerio del Interior</a></li>
<li class="toctree-l2"><a class="reference internal" href="analizar-datos-ministerio-interior.html">Analizando los datos del ministerio del interior</a></li>
<li class="toctree-l2"><a class="reference internal" href="resultados-por-departamento.html">Resultados por departamento</a></li>
<li class="toctree-l2"><a class="reference internal" href="dhont.html">D&#8217;Hont</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualizaciones-legislativas.html">Visualizaciones legislativas</a></li>
<li class="toctree-l2"><a class="reference internal" href="formatos-geo.html">Formatos de datos espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="poligonos.html">Poligonos de Secciones y Circuitos</a></li>
<li class="toctree-l2"><a class="reference internal" href="geolocalizar-circuitos.html">Geolocalizar Circuitos fuera de la capital.</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Mapa de los resultados por departamento</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-1-ganador-por-departamento">Ejemplo 1: Ganador por departamento</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-2-desempeno-del-fit">Ejemplo 2: Desempeño del FIT</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ejemplo-3-desempeno-del-fit">Ejemplo 3: Desempeño del FIT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="recursos-externos-y-ejemplos.html">Recursos y ejemplos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../mi-sitio-web/index.html">Mi sitio web</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Curso Elecciones Legislativas 2017 en Córdoba</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Analizando resultados electorales</a> &raquo;</li>
      
    <li>Mapa de los resultados por departamento</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/curso/resultados/mapa-resultados-por-departamento.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mapa-de-los-resultados-por-departamento">
<h1>Mapa de los resultados por departamento<a class="headerlink" href="#mapa-de-los-resultados-por-departamento" title="Enlazar permanentemente con este título">¶</a></h1>
<p>Usando <a class="reference external" href="https://avdata99.github.io/curso-datos-elecciones-generales-legislativas-2017/datos-a-usar/geo/departamentos-poligonos-simplificado-WKT.csv">la versión simplificada</a> de los polígonos de los departamentos de la Provincia de Córdoba podemos hacer un mapa de resultados con diferentes temáticas.</p>
<p>Para esto copiamos el contenido de este archivo en una nueva hoja de nuestra planilla de trabajo.</p>
<div class="figure">
<img alt="../../_images/wkt-deptos-en-drive.png" src="../../_images/wkt-deptos-en-drive.png" />
</div>
<p>Lamentablemente <strong>los identificadores que usa el GeoPortal de la Provincia de Córdoba no son iguales a los usados por el ministerio del interior</strong>. Vale recordar la importancia de avanzar en códigos únicos para este tipo de datos que se utilizan en tantas oficinas de diferentes niveles del estado.</p>
<p>De todas formas podemos cruzar los datos vía el nombre del departamento. Usamos VLOOKUP para intentar esta mezcla. Funciona bastante bién salvo en los casos en los que los nombres están escritos de diferente forma.
El caso de las tildes de los nombres es uno:</p>
<div class="figure">
<img alt="../../_images/cruzar-wkt-con-resultados-via-nombre-depto.png" src="../../_images/cruzar-wkt-con-resultados-via-nombre-depto.png" />
</div>
<p>Se puede resolver simplemente modificando los nombres de los departamentos en esta nueva hoja para que coincidan con los usados en nuestros resultados.</p>
<p>Una vez hechas estas correcciones los datos están completos. Antes de llevar estos datos a Carto DB (u otroa plataforma similar) es necesario hacer que estos resultados tengan algún datos a graficar.</p>
<div class="section" id="ejemplo-1-ganador-por-departamento">
<h2>Ejemplo 1: Ganador por departamento<a class="headerlink" href="#ejemplo-1-ganador-por-departamento" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Para obtener una columna con el <em>Ganador</em> hacemos tres pasos. Primero obtenemos el numero de votos del ganador de cada departamento con la función <strong>max</strong>:</p>
<div class="figure">
<img alt="../../_images/encontrar-ganador-depto-01.png" src="../../_images/encontrar-ganador-depto-01.png" />
</div>
<p>Luego agregamos una columna de ayuda para saber que distancia hay entre esta fila y una que tenga los nombres de los partidos ganadores. Colocamos para esto (como insumo de la función HLOOKUP) al final de la tabla una celda con copia de los nombres de los partidos.</p>
<div class="figure">
<img alt="../../_images/encontrar-ganador-depto-02.png" src="../../_images/encontrar-ganador-depto-02.png" />
</div>
<p>Finalmente con HLOOKUP (usando la <em>distancia</em> variable hasta el nombre del ganador) podemos saber quien es el <em>dueño</em> de los votos del ganador calculados para cada departamento.</p>
<div class="figure">
<img alt="../../_images/encontrar-ganador-depto-03.png" src="../../_images/encontrar-ganador-depto-03.png" />
</div>
<p>El mapa quedo <a class="reference external" href="https://hudson.carto.com/builder/fa9229e7-e333-491a-bbeb-5e88485a72bf/embed">abierto y disponible</a> para consulta.</p>
<div class="figure">
<img alt="../../_images/mapa-final-deptos-ganador.png" src="../../_images/mapa-final-deptos-ganador.png" />
</div>
</div>
<div class="section" id="ejemplo-2-desempeno-del-fit">
<h2>Ejemplo 2: Desempeño del FIT<a class="headerlink" href="#ejemplo-2-desempeno-del-fit" title="Enlazar permanentemente con este título">¶</a></h2>
<p>A los fines de tenes los datos en la misma planilla que tiene polígonos listos agregamos 7 nuevas columnas (una por cada partido). El titulo de cada columna es el <em>signo %</em> mas el nombre del partido.</p>
<p>Los datos porcentuales evitan la enorme distorción generada por la cantidad de electores existentes en cada departamento. Esta visualización esta pensada para conocer el desempeño de un partido en toda la provincia. lo mejor para este caso es saber el % de votos de un partido en cada departamento</p>
<div class="figure">
<img alt="../../_images/porcentajes-partido-depto.png" src="../../_images/porcentajes-partido-depto.png" />
</div>
<p>Luego calculamos los % de cada partido en cada fila-departamento
Préstese especial atención a los signos $ que permitiran estirar esta fórmula horizontal y verticalmente sin tenes que modificarse.</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>=B2/sum($B2:$H2) * 100
</pre></div>
</div>
<p>Quedará así:</p>
<div class="figure">
<img alt="../../_images/porcentajes-partido-depto2.png" src="../../_images/porcentajes-partido-depto2.png" />
</div>
<p>Este archivo debe descargarse en formato CSV (sólo la hoja actual de resultados) y llevarse a CARTO DB</p>
<div class="figure">
<img alt="../../_images/Desempeno-FIT.png" src="../../_images/Desempeno-FIT.png" />
</div>
<p>Este mapa puede usarse para armar mapas de cada uno de los partidos.</p>
</div>
<div class="section" id="ejemplo-3-desempeno-del-fit">
<h2>Ejemplo 3: Desempeño del FIT<a class="headerlink" href="#ejemplo-3-desempeno-del-fit" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Con lo aprendido elaborar un mapa del desempeño de Union por Córdoba:</p>
<div class="figure">
<img alt="../../_images/Desempeno-UPC.png" src="../../_images/Desempeno-UPC.png" />
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="recursos-externos-y-ejemplos.html" class="btn btn-neutral float-right" title="Recursos y ejemplos" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="geolocalizar-circuitos.html" class="btn btn-neutral" title="Geolocalizar Circuitos fuera de la capital." accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Andrés Vázquez.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>